---

description: >
This page details the instructions for upgrading your Cinchy platform to v5.7
on Kubernetes

---

# v5.7 (Kubernetes)

## What's new

The major changes for the 5.7 Kubernetes upgrade are the following:

- The Azure AKS version supports up to 1.27
- Upgraded ArgoCd from 2.1.7 to v2.7.6
- Upgraded istio from 1.3.1 to 1.18.0
- OpenSearch from 1.2.0 to 2.13.1
- Upgraded Logging Operator from 3.17.2 to 4.2.2
- Upgraded Kube Prometheus Stack from 17.2.2 to 47.0.0
- Upgraded Strimzi Kafka Operator from 0.1.0 to 0.34.0
- New app Kafka UI 0.7.1
- OpenSearch Index creation based on date format.

## Upgrading on Kubernetes

To upgrade your various components, follow the instructions below.

{% hint style="info" %}
If you have made custom changes to your deployment file structure, please contact your Support team prior to upgrading your environments.
{% endhint %}

{% hint style="danger" %}
<mark style="color:red;">**Warning:**</mark>** If you are upgrading from Cinchy v5.1 or lower to Cinchy v5.7, you must run **Upgrade 5.2** [**using the Cinchy Utility**](../cinchy-upgrade-utility.md) **and deploy version 5.2.\*\*
{% endhint %}

{% hint style="danger" %}
**If you are upgrading from Cinchy v5.3 or lower to Cinchy v5.7 on an SQL Server Database**, you will need to make a change to your `connectionString`. Add [**TrustServerCertificate=True**](https://learn.microsoft.com/en-us/dotnet/api/system.data.sqlclient.sqlconnectionstringbuilder.trustservercertificate?view=dotnet-plat-ext-6.0) to bypass the certificate chain during validation.

For a Kubernetes deployment, you can add this value in your **deployment.json file:**

```json
"cinchy_instance_configs": {
          "database_connection_string": "User ID=cinchy;Password=<password>;Host=<db_hostname>;Port=5432;Database=development;Timeout=300;Keepalive=300;TrustServerCertificate=True"}
```

{% endhint %}

{% hint style="danger" %}
<mark style="color:red;">**Warning:**</mark>** If you are upgrading from Cinchy v5.4 or lower to Cinchy v5.7, you must first run **Upgrade 5.5** using** [**the Cinchy Utility**](../cinchy-upgrade-utility.md) **and deploy version 5.5.**
{% endhint %}

## Configure to the newest version

1. Go to your **cinchy.argocd** repository. Delete all existing folder structure except for the **.git** folder/directory and any custom changes you may have implemented.
1. Go to your **cinchy.kubernetes** repository. Delete all existing folder structure except for the `.git` file.
   {% endhint %}
   {% hint style="danger" %}
   If you have `cinchy.kubernetes\cluster_components\servicemesh\istio\istio-injection\argocd-ns.yaml` file and it's not commented, don't change it. Changing this will delete your ArgoCD namespace, which will force you to delete everything from Kubernetes and redeploy.
   {% endhint %}

1. Go to your **cinchy.terraform** repository. Delete all existing folder structure except for the `.git `file.
1. Go to your **cinchy.devops.automation** repository. Delete all existing folder structure except for the `.git` file and your deployment.json.
